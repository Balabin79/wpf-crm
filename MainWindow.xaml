<dx:ThemedWindow x:Class="Dental.MainWindow" 
    Title="{Binding Path=Title}" Visibility="Visible" 
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:local="clr-namespace:Dental" 
    xmlns:viewModels="clr-namespace:Dental.ViewModels" 
    xmlns:services="clr-namespace:Dental.Services" 
    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
    mc:Ignorable="d" 
    d:DesignHeight="450" d:DesignWidth="800"      
    xmlns:conv ="clr-namespace:Dental.Infrastructures.Converters" 
    dx:ThemeManager.ThemeName="Office2019White"
    Closing="ThemedWindow_Closing"
    DataContext="{StaticResource Router}"
    Name="win">

    <dx:ThemedWindow.Resources>
        <conv:ImageConverter x:Key="ImageConverter" />
        <viewModels:MainWindowViewModel x:Key="mv"/>
    </dx:ThemedWindow.Resources>

    <Grid VerticalAlignment="Stretch" Margin="0,0,0,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="10" />
        </Grid.RowDefinitions>

        <dxr:RibbonControl 
            AllowCustomizingDefaultGroups="False"
            AllowCustomization="False"      
            RibbonStyle="Office2019" 
            ShowApplicationButton="False" 
            Grid.Row="0" 
            Name="RibbonControl"
            >

            <dxr:RibbonControl.ToolbarItems>
                <dxb:BarItemLinkSeparator/>
                <dxb:BarButtonItem 
                    Content="Справка" 
                    Glyph="{dx:DXImage SvgImages/Spreadsheet/Logical.svg}"
                    DataContext="{StaticResource mv}"
                    Command="{Binding OpenFormHelpCommand}"/>

                <dxb:BarButtonItem 
                    Content="Регистрация программы"
                    GlyphSize="Custom"
                    Glyph="pack://application:,,,/Resources/Icons/svg/reg1.svg"
                    GlyphAlignment="Bottom"
                    Margin="0 2 0 0"
                    AllowGlyphTheming="True"
                    CustomGlyphSize="13,13" 
                    DataContext="{StaticResource mv}"
                    Command="{Binding OpenFormRegCommand}"/>

                <dxb:BarButtonItem 
                    Content="О программе" 
                    Glyph="{dx:DXImage SvgImages/Icon Builder/Actions_Info.svg}"
                    DataContext="{StaticResource mv}"
                    Command="{Binding OpenFormAboutCommand}"/>

            </dxr:RibbonControl.ToolbarItems>

            <dxr:RibbonDefaultPageCategory >

                <dxr:RibbonPage Caption="Рабочий стол">

                    <dxr:RibbonPageGroup Caption="Основное">

                        <dxb:BarButtonItem Content="Расписание" RibbonStyle="Default" 
                                           ToolTip="Расписание сотрудников"
                                           Glyph="{dx:DXImage SvgImages/Business Objects/BO_Appearance.svg}"
                                           MediumGlyph="{dx:DXImage SvgImages/Business Objects/BO_Appearance.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Business Objects/BO_Appearance.svg}"
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.Sheduler" 
                                           />

                        <dxb:BarButtonItem Content="Клиенты" RibbonStyle="Default" 
                                           ToolTip="Список клиентов"
                                           MediumGlyph="{dx:DXImage SvgImages/RichEdit/Reviewers.svg}"                                      
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.PatientCard.PatientsList" 
                                           LargeGlyph="{dx:DXImage SvgImages/RichEdit/Reviewers.svg}" 
                                           Glyph="{dx:DXImage SvgImages/RichEdit/Reviewers.svg}"/>

                        <dxb:BarButtonItem Content="Рассылки" RibbonStyle="Default" 
                                           ToolTip="Рассылки" 
                                           LargeGlyph="{dx:DXImage SvgImages/Icon Builder/Actions_Send.svg}"                                        
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.Subscribes.ClientsSubscribes" 
                                           MediumGlyph="{dx:DXImage SvgImages/Icon Builder/Actions_Send.svg}" 
                                           Glyph="{dx:DXImage SvgImages/Icon Builder/Actions_Send.svg}"/>

                    </dxr:RibbonPageGroup>
                    <dxr:RibbonPageGroup Caption="Справочники">
                        <dxb:BarButtonItem Content="Сотрудники"
                                           RibbonStyle="Default"
                                           MediumGlyph="{dx:DXImage SvgImages/Business Objects/BO_Position.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Business Objects/BO_Position.svg}"   
                                           ToolTip="Сотрудники"
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.EmployeeDir.Employes" 
                                           Glyph="{dx:DXImage SvgImages/Business Objects/BO_Position.svg}"
                                           />
                        
                        <dxb:BarButtonItem Content="Перечень товаров" 
                                           RibbonStyle="Default"
                                           MediumGlyph="{dx:DXImage SvgImages/Business Objects/BO_Sale.svg}"   
                                           ToolTip="Товары"
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.NomenclatureDir.Nomenclature" 
                                           LargeGlyph="{dx:DXImage SvgImages/Business Objects/BO_Sale.svg}" 
                                           Glyph="{dx:DXImage SvgImages/Business Objects/BO_Sale.svg}"/>
                        
                        <dxb:BarButtonItem Content="Перечень услуг" 
                                           RibbonStyle="Default"
                                           MediumGlyph="{dx:DXImage SvgImages/Spreadsheet/Accounting.svg}"   
                                           ToolTip="Справочник услуг"
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.Classificator" 
                                           LargeGlyph="{dx:DXImage SvgImages/Spreadsheet/Accounting.svg}" 
                                           Glyph="{dx:DXImage SvgImages/Spreadsheet/Accounting.svg}"/>
                    </dxr:RibbonPageGroup>

                </dxr:RibbonPage>
                <dxr:RibbonPage Caption="Статистика" >

                    <dxr:RibbonPageGroup Caption="Отчеты" >
                        <dxb:BarButtonItem Content="Сводные данные по услугам" RibbonStyle="Default" 
                                           ToolTip="Сводные данные по услугам"
                                           MediumGlyph="{dx:DXImage SvgImages/Spreadsheet/Subtotal.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Spreadsheet/Subtotal.svg}"                                        
                                           Command="{Binding LeftMenuClick}" 
                                           CommandParameter="Dental.Views.ServicesPage" 
                                           Glyph="{dx:DXImage SvgImages/Spreadsheet/Subtotal.svg}"/>


                        <dxb:BarButtonItem Content="Выручка за периоды" RibbonStyle="Default" 
                                           ToolTip="Статистика по выручке по заданным периодам"
                                           MediumGlyph="{dx:DXImage SvgImages/Chart/ChartType_Line3DStacked100.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Chart/ChartType_Line3DStacked100.svg}"                                    
                                           Command="{Binding LeftMenuClick}"
                                           CommandParameter="Dental.Views.Reports.ByPeriods" 
                                           Glyph="{dx:DXImage SvgImages/Chart/ChartType_Line3DStacked100.svg}"/>

                        <dxb:BarButtonItem Content="Каналы привлечения" RibbonStyle="Default" 
                                           ToolTip="Статистика по каналам привлечения"
                                           MediumGlyph="{dx:DXImage SvgImages/Chart/ChartType_Doughnut.svg}"                                    
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.Reports.ByAdvertising" 
                                           Glyph="{dx:DXImage SvgImages/Chart/ChartType_Doughnut.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Chart/ChartType_Doughnut.svg}"/>

                     



                        <dxb:BarButtonItem Content="Загруженность сотрудников" RibbonStyle="Default" 
                                           ToolTip="Загруженность сотрудников"
                                           MediumGlyph="{dx:DXImage SvgImages/Dashboards/DashboardDesigner.svg}"                                    
                                           Command="{Binding LeftMenuClick}" 
                                           CommandParameter="Dental.Views.Reports.ByEmployes"
                                           Glyph="{dx:DXImage SvgImages/Dashboards/DashboardDesigner.svg}" LargeGlyph="{dx:DXImage SvgImages/Dashboards/DashboardDesigner.svg}"/>

                    </dxr:RibbonPageGroup>
                    <dxr:RibbonPageGroup Caption="История" >
                        <dxb:BarButtonItem Content="Действия пользователя" RibbonStyle="Default" 
                                           ToolTip="Действия пользователя (добавление, редактирование, удаление)" 
                                           LargeGlyph="{dx:DXImage SvgImages/Dashboards/EditExtractSource.svg}"                                    
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.UserActions" 
                                           Glyph="{dx:DXImage SvgImages/Dashboards/EditExtractSource.svg}" 
                                           MediumGlyph="{dx:DXImage SvgImages/Dashboards/EditExtractSource.svg}"/>

                        <dxb:BarButtonItem Content="Отправленные уведомления" RibbonStyle="Default" 
                                           ToolTip="Уведомления"
                                           MediumGlyph="{dx:DXImage SvgImages/Business Objects/BO_Notifications.svg}" 
                                           LargeGlyph="{dx:DXImage SvgImages/Business Objects/BO_Notifications.svg}"                                    
                                           Command="{Binding LeftMenuClick}" CommandParameter="Dental.Views.NotificationLogPage" 
                                           Glyph="{dx:DXImage SvgImages/Business Objects/BO_Notifications.svg}"/>
                    </dxr:RibbonPageGroup>
                </dxr:RibbonPage>

            </dxr:RibbonDefaultPageCategory>


        </dxr:RibbonControl>
        <Frame  
           Name="FramePage" VerticalAlignment="Stretch" Grid.Row="1" Grid.Column="1"            
           HorizontalAlignment="Stretch" 
           NavigationUIVisibility="Hidden" 
           Content="{Binding CurrentPage}" 
           Opacity="{Binding FrameOpacity}" />

    </Grid>
</dx:ThemedWindow>